{% extends 'diario/base.html' %}

{% block title %}Editar Prosoche - Diario Sic Parvis Magna{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="cyber-card p-4 mb-4">
            <div class="d-flex align-items-center">
                <i class="fas fa-moon fa-3x me-3" style="color: #4a90e2;"></i>
                <div>
                    <h1 class="cyber-title mb-2">PROSOCHE</h1>
                    <p class="mb-0">Editar Diario Mensual - {{ mes_actual }}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="cyber-card p-4">
            <form method="post" class="needs-validation" novalidate>
                {% csrf_token %}

                <div class="row">
                    <div class="col-md-6 mb-4">
                        <label for="mes" class="cyber-form-label">
                            <i class="fas fa-calendar-alt me-2"></i>Mes
                        </label>
                        <input type="text"
                               class="form-control cyber-form-control"
                               id="mes"
                               name="mes"
                               value="{{ diario.mes|default:mes_actual }}"
                               readonly>
                    </div>

                    <div class="col-md-6 mb-4">
                        <label for="año" class="cyber-form-label">
                            <i class="fas fa-calendar me-2"></i>Año
                        </label>
                        <input type="number"
                               class="form-control cyber-form-control"
                               id="año"
                               name="año"
                               value="{{ diario.año|default:año_actual }}"
                               readonly>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="logro_principal" class="cyber-form-label">
                        <i class="fas fa-trophy me-2"></i>Principal Logro del Mes
                    </label>
                    <textarea class="form-control cyber-form-control"
                              id="logro_principal"
                              name="logro_principal"
                              rows="3"
                              placeholder="¿Cuál fue tu mayor logro este mes?">{{ diario.logro_principal|default:'' }}</textarea>
                </div>

                <div class="mb-4">
                    <label for="celebracion_logro" class="cyber-form-label">
                        <i class="fas fa-party-horn me-2"></i>Cómo lo Celebraste
                    </label>
                    <textarea class="form-control cyber-form-control"
                              id="celebracion_logro"
                              name="celebracion_logro"
                              rows="3"
                              placeholder="¿Cómo celebraste este logro?">{{ diario.celebracion_logro|default:'' }}</textarea>
                </div>

                <div class="mb-4">
                    <label for="obstaculo_principal" class="cyber-form-label">
                        <i class="fas fa-mountain me-2"></i>Principal Obstáculo del Mes
                    </label>
                    <textarea class="form-control cyber-form-control"
                              id="obstaculo_principal"
                              name="obstaculo_principal"
                              rows="3"
                              placeholder="¿Cuál fue el mayor obstáculo que enfrentaste?">{{ diario.obstaculo_principal|default:'' }}</textarea>
                </div>

                <div class="mb-4">
                    <label for="gestion_obstaculo" class="cyber-form-label">
                        <i class="fas fa-tools me-2"></i>Cómo lo Gestionaste
                    </label>
                    <textarea class="form-control cyber-form-control"
                              id="gestion_obstaculo"
                              name="gestion_obstaculo"
                              rows="3"
                              placeholder="¿Cómo superaste o gestionaste este obstáculo?">{{ diario.gestion_obstaculo|default:'' }}</textarea>
                </div>

                <div class="mb-4">
                    <label for="aprendizaje_principal" class="cyber-form-label">
                        <i class="fas fa-lightbulb me-2"></i>Principal Aprendizaje del Mes
                    </label>
                    <textarea class="form-control cyber-form-control"
                              id="aprendizaje_principal"
                              name="aprendizaje_principal"
                              rows="3"
                              placeholder="¿Qué fue lo más importante que aprendiste?">{{ diario.aprendizaje_principal|default:'' }}</textarea>
                </div>

                <div class="mb-4">
                    <label for="momento_felicidad" class="cyber-form-label">
                        <i class="fas fa-smile me-2"></i>Principal Momento de Felicidad
                    </label>
                    <textarea class="form-control cyber-form-control"
                              id="momento_felicidad"
                              name="momento_felicidad"
                              rows="3"
                              placeholder="¿Cuál fue tu momento más feliz del mes?">{{ diario.momento_felicidad|default:'' }}</textarea>
                </div>

                <div class="philosopher-quote mb-4">
                    <i class="fas fa-quote-left me-2"></i>
                    <em>"La vida no examinada no vale la pena ser vivida."</em>
                    <small class="d-block mt-2 text-end">- Sócrates</small>
                </div>

                <div class="d-flex justify-content-between">
                    <a href="{% url 'diario:prosoche_dashboard' %}" class="btn cyber-btn-secondary">
                        <i class="fas fa-arrow-left me-2"></i>Cancelar
                    </a>
                    <button type="submit" class="btn cyber-btn">
                        <i class="fas fa-save me-2"></i>Guardar Cambios
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Animación de entrada
        document.querySelectorAll('.cyber-card').forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            setTimeout(() => {
                card.style.transition = 'all 0.6s ease';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 200);
        });

        // Efectos de focus en los campos
        document.querySelectorAll('.cyber-form-control').forEach(input => {
            input.addEventListener('focus', function() {
                this.style.borderColor = '#00ffff';
                this.style.boxShadow = '0 0 15px rgba(0, 255, 255, 0.3)';
            });

            input.addEventListener('blur', function() {
                this.style.borderColor = 'rgba(0, 255, 255, 0.3)';
                this.style.boxShadow = 'none';
            });
        });
    });
</script>
{% endblock %}
